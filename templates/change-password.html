{% extends 'base.html' %}
{% load chat_tags %}

{% block title %}Change Password{% endblock %}

{% block content %}

{% block navbar %}{% include "navbar.html" %}{% endblock %}

<div class="container x-auto my-4" id="change-password-form" role="region"
	aria-labelledby="change-password-form-heading">
	<h1 id="change-password-form-heading">Change Password</h1>
	<form method="post" hx-post="{% url 'change-password' %}" hx-target="#content" hx-swap="outerHTML"
		hx-push-url="true" enctype="multipart/form-data" aria-labelledby="change-password-form-heading">
		{% csrf_token %}
		{% for field in form %}
		<div class="form-floating my-3">
			{{ field }}
			<label for="{{ field.id_for_label }}" id="label-{{ field.id_for_label }}">{{ field.label }}</label>
			{% if field.errors %}
			<div class="alert alert-{{ message.tags }} my-2" role="alert">
				<ul class="m-0 p-0" style="list-style-type: none;" aria-live="assertive">
					{% for error in field.errors %}
					<li>{{ error }}</li>
					{% endfor %}
				</ul>
			</div>
			{% endif %}
		</div>
		{% endfor %}
		<button class="btn btn-primary" id="btn" type="submit" aria-label="Change Password">Change password</button>
	</form>
	{% if messages %}
	{% for message in messages %}
	<div class="alert alert-{{ message.tags }} my-2" role="alert">
		<p class="m-0">{{ message }}</p>
	</div>
	{% endfor %}
	{% endif %}
</div>

{% block chat %}{% render_chat %}{% endblock %}

{% endblock %}